<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:tp="http://java.sun.com/jsp/jstl/functions" xmlns:com="http://java.sun.com/jstl/core"
>
<h:head>
    <h:outputStylesheet name="dialog-style.css" library="css"/>
</h:head>

<composite:interface>

    <composite:attribute name="nameValue"/>
    <composite:attribute name="nameErrorRender"/>
    <composite:attribute name="positionValue"/>
    <composite:attribute name="positionErrorRender"/>
    <composite:attribute name="departmentValue"/>
    <composite:attribute name="departmentErrorRender"/>
    <composite:attribute name="dataValue"/>
    <composite:attribute name="dataErrorRender"/>
    <composite:attribute name="addButton"
                         method-signature="java.lang.String index()"
    />
    <composite:attribute name="saveButton"
                         method-signature="java.lang.String index()"
    />
    <composite:attribute name="calcel"
                         method-signature="java.lang.String index()"
    />
</composite:interface>
<composite:implementation>

    <h:form id="employeeForm">
        <h:panelGrid id="popup" columns="1" cellpadding="5" >


                <p:outputLabel style="text-shadow: 1px 1px" value="#{msg['message.nameEditCreate']}"/>

            <p:inputText id="name" value="#{cc.attrs.nameValue}" required="true"
                         requiredMessage="Please enter Name" validatorMessage="The Name is too long">
                <f:validateLength minimum="1" maximum="45"/>
            </p:inputText>
            <p:message for="name"/>


            <p:outputLabel value="#{msg['message.positionEditCreate']}"/>
            <p:inputText id="position" required="true" value="#{cc.attrs.positionValue}"
                         requiredMessage="Please enter Position" validatorMessage="The Position title is too long">
                <f:validateLength maximum="45"/>
            </p:inputText>
            <p:message for="position"/>

            <p:outputLabel value="#{msg['message.departmentEditCreate']}"/>
            <p:inputText id="department" value="#{cc.attrs.departmentValue}" rendered="true"
                         requiredMessage="Please enter Department" validatorMessage="The Department title is too long"
                         required="true">
                <f:validateLength maximum="45"/>
            </p:inputText>
            <p:message for="department"/>


            <p:outputLabel value="#{msg['message.dataEditCreate']}"/>
            <p:calendar id="date" value="#{cc.attrs.dataValue}" pattern="yyyy-MM-dd" maxlength="10"
                        maxdate="#{employees.today()}"
                        requiredMessage="Please enter Date"
                        converterMessage="could not be understood as a date. Example: 2018-01-30"
                        required="true" validator="#{employees.validate}">
            </p:calendar>

            <p:message for="date"/>


            <p:commandButton value="Add" action="#{cc.attrs.addButton}" rendered="#{employees.add}"
                             update="popup employeeTable" styleClass="ui-priority-primary"
                             oncomplete="handleLoginRequestAdd(xhr, status, args)">
            </p:commandButton>


            <p:commandButton value="save" action="#{cc.attrs.saveButton}" update="popup employeeTable"
                             rendered="#{employees.save}" styleClass="ui-priority-primary"
                             oncomplete="handleLoginRequestEdit(xhr, status, args)">
            </p:commandButton>

            <p:commandButton value="View Employees Record List" action="#{employees.exitAndClear}"
                             update="popup employeeTable" styleClass="ui-priority-primary"
                             oncomplete="handleLoginRequestExitAndClear(xhr, status, args)">
            </p:commandButton>


        </h:panelGrid>
    </h:form>


</composite:implementation>


</html>
